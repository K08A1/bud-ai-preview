<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¾ç½® - èŒèŠ½AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .settings-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 24px;
            background: white;
            border-radius: 24px;
            margin-top: -20px;
            position: relative;
            z-index: 10;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }
        .settings-section {
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid #e5e7eb;
        }
        .settings-section:last-child {
            border-bottom: none;
        }
        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 18px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 20px;
        }
        .section-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            color: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 0;
            border-bottom: 1px solid #f3f4f6;
        }
        .setting-item:last-child {
            border-bottom: none;
        }
        .setting-info {
            flex: 1;
        }
        .setting-name {
            font-size: 16px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 4px;
        }
        .setting-desc {
            font-size: 14px;
            color: #6b7280;
        }
        .toggle-switch {
            position: relative;
            width: 52px;
            height: 28px;
            background: #e5e7eb;
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .toggle-switch.active {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
        }
        .toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .toggle-switch.active .toggle-slider {
            transform: translateX(24px);
        }
        .select-input {
            padding: 8px 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            background: white;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .select-input:focus {
            outline: none;
            border-color: #8B5CF6;
        }
        .profile-section {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 24px;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 16px;
            margin-bottom: 24px;
        }
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .profile-avatar:hover {
            transform: scale(1.05);
        }
        .profile-info {
            flex: 1;
        }
        .profile-name {
            font-size: 20px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 4px;
        }
        .profile-level {
            font-size: 14px;
            color: #8B5CF6;
            font-weight: 500;
        }
        .mode-switch {
            display: flex;
            background: #f3f4f6;
            border-radius: 12px;
            padding: 4px;
            gap: 4px;
        }
        .mode-btn {
            flex: 1;
            padding: 12px 16px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            background: transparent;
            color: #6b7280;
        }
        .mode-btn.active {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            color: white;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <div class="gradient-bg px-8 py-8 text-white">
        <div class="nav-header">
            <div class="nav-left">
                <button class="nav-btn" onclick="navigateBack()">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div class="nav-title">
                    <h1>è®¾ç½®</h1>
                    <p class="nav-subtitle">ä¸ªæ€§åŒ–ä½ çš„å­¦ä¹ ä½“éªŒ</p>
                </div>
            </div>
            <div class="nav-actions">
                <button class="nav-btn" onclick="resetSettings()" title="é‡ç½®è®¾ç½®">
                    <i class="fas fa-undo"></i>
                </button>
                <button class="nav-btn" onclick="exportSettings()" title="å¯¼å‡ºè®¾ç½®">
                    <i class="fas fa-download"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- è®¾ç½®å†…å®¹ -->
    <div class="settings-container">
        <!-- ä¸ªäººèµ„æ–™ -->
        <div class="profile-section">
            <div class="profile-avatar" onclick="changeAvatar()">
                ğŸŒŸ
            </div>
            <div class="profile-info">
                <div class="profile-name">å°æ˜</div>
                <div class="profile-level">è¡¨è¾¾èƒ½åŠ› Lv.15 Â· ä¸­çº§æ¢ç´¢è€…</div>
            </div>
            <button class="nav-btn" onclick="editProfile()" style="background: rgba(139, 92, 246, 0.1); color: #8B5CF6;">
                <i class="fas fa-edit"></i>
            </button>
        </div>

        <!-- æ¨¡å¼åˆ‡æ¢ -->
        <div class="settings-section">
            <div class="section-title">
                <div class="section-icon">
                    <i class="fas fa-exchange-alt"></i>
                </div>
                <span>ä½¿ç”¨æ¨¡å¼</span>
            </div>
            <div class="mode-switch">
                <button class="mode-btn active" onclick="switchMode('child')">
                    <i class="fas fa-child mr-2"></i>
                    å„¿ç«¥æ¨¡å¼
                </button>
                <button class="mode-btn" onclick="switchMode('parent')">
                    <i class="fas fa-user-tie mr-2"></i>
                    å®¶é•¿æ¨¡å¼
                </button>
            </div>
        </div>

        <!-- å­¦ä¹ è®¾ç½® -->
        <div class="settings-section">
            <div class="section-title">
                <div class="section-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <span>å­¦ä¹ è®¾ç½®</span>
            </div>
            
            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-name">è‡ªåŠ¨ä¿å­˜è¿›åº¦</div>
                    <div class="setting-desc">å­¦ä¹ è¿‡ç¨‹ä¸­è‡ªåŠ¨ä¿å­˜è¿›åº¦</div>
                </div>
                <div class="toggle-switch active" onclick="toggleSetting(this)">
                    <div class="toggle-slider"></div>
                </div>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-name">å­¦ä¹ æé†’</div>
                    <div class="setting-desc">æ¯æ—¥å®šæ—¶æé†’å­¦ä¹ </div>
                </div>
                <div class="toggle-switch active" onclick="toggleSetting(this)">
                    <div class="toggle-slider"></div>
                </div>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-name">éš¾åº¦è‡ªé€‚åº”</div>
                    <div class="setting-desc">æ ¹æ®è¡¨ç°è‡ªåŠ¨è°ƒæ•´ä»»åŠ¡éš¾åº¦</div>
                </div>
                <div class="toggle-switch" onclick="toggleSetting(this)">
                    <div class="toggle-slider"></div>
                </div>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-name">æ¯æ—¥å­¦ä¹ æ—¶é•¿</div>
                    <div class="setting-desc">è®¾ç½®æ¯æ—¥æ¨èå­¦ä¹ æ—¶é•¿</div>
                </div>
                <select class="select-input" onchange="updateStudyTime(this.value)">
                    <option value="15">15åˆ†é’Ÿ</option>
                    <option value="30" selected>30åˆ†é’Ÿ</option>
                    <option value="45">45åˆ†é’Ÿ</option>
                    <option value="60">60åˆ†é’Ÿ</option>
                </select>
            </div>
        </div>

        <!-- ç•Œé¢è®¾ç½® -->
        <div class="settings-section">
            <div class="section-title">
                <div class="section-icon">
                    <i class="fas fa-palette"></i>
                </div>
                <span>ç•Œé¢è®¾ç½®</span>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-name">æ·±è‰²æ¨¡å¼</div>
                    <div class="setting-desc">ä¿æŠ¤çœ¼ç›ï¼Œé€‚åˆå¤œé—´å­¦ä¹ </div>
                </div>
                <div class="toggle-switch" onclick="toggleDarkMode(this)">
                    <div class="toggle-slider"></div>
                </div>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-name">åŠ¨ç”»æ•ˆæœ</div>
                    <div class="setting-desc">ç•Œé¢åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ</div>
                </div>
                <div class="toggle-switch active" onclick="toggleSetting(this)">
                    <div class="toggle-slider"></div>
                </div>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-name">éœ‡åŠ¨åé¦ˆ</div>
                    <div class="setting-desc">æ“ä½œæ—¶çš„è§¦è§‰åé¦ˆ</div>
                </div>
                <div class="toggle-switch active" onclick="toggleSetting(this)">
                    <div class="toggle-slider"></div>
                </div>
            </div>
        </div>

        <!-- éšç§å®‰å…¨ -->
        <div class="settings-section">
            <div class="section-title">
                <div class="section-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <span>éšç§å®‰å…¨</span>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-name">æ•°æ®åŒæ­¥</div>
                    <div class="setting-desc">åœ¨å¤šè®¾å¤‡é—´åŒæ­¥å­¦ä¹ æ•°æ®</div>
                </div>
                <div class="toggle-switch active" onclick="toggleSetting(this)">
                    <div class="toggle-slider"></div>
                </div>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-name">å­¦ä¹ æŠ¥å‘Šåˆ†äº«</div>
                    <div class="setting-desc">å…è®¸åˆ†äº«å­¦ä¹ æˆæœ</div>
                </div>
                <div class="toggle-switch" onclick="toggleSetting(this)">
                    <div class="toggle-slider"></div>
                </div>
            </div>
        </div>

        <!-- å…³äºåº”ç”¨ -->
        <div class="settings-section">
            <div class="section-title">
                <div class="section-icon">
                    <i class="fas fa-info-circle"></i>
                </div>
                <span>å…³äºåº”ç”¨</span>
            </div>

            <div class="setting-item" onclick="showAppInfo()">
                <div class="setting-info">
                    <div class="setting-name">åº”ç”¨ç‰ˆæœ¬</div>
                    <div class="setting-desc">èŒèŠ½AI v1.0.0</div>
                </div>
                <i class="fas fa-chevron-right text-gray-400"></i>
            </div>

            <div class="setting-item" onclick="showHelp()">
                <div class="setting-info">
                    <div class="setting-name">å¸®åŠ©ä¸­å¿ƒ</div>
                    <div class="setting-desc">ä½¿ç”¨æŒ‡å—å’Œå¸¸è§é—®é¢˜</div>
                </div>
                <i class="fas fa-chevron-right text-gray-400"></i>
            </div>

            <div class="setting-item" onclick="contactSupport()">
                <div class="setting-info">
                    <div class="setting-name">è”ç³»å®¢æœ</div>
                    <div class="setting-desc">é‡åˆ°é—®é¢˜ï¼Ÿæˆ‘ä»¬æ¥å¸®åŠ©ä½ </div>
                </div>
                <i class="fas fa-chevron-right text-gray-400"></i>
            </div>
        </div>
    </div>

    <script>
        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadSettings();
            setupAnimations();
        });

        // åŠ è½½è®¾ç½®
        function loadSettings() {
            const savedSettings = localStorage.getItem('mengya_settings');
            if (savedSettings) {
                try {
                    const settings = JSON.parse(savedSettings);
                    applySettings(settings);
                } catch (e) {
                    console.error('è®¾ç½®åŠ è½½å¤±è´¥:', e);
                }
            }
        }

        // åº”ç”¨è®¾ç½®
        function applySettings(settings) {
            // åº”ç”¨æ·±è‰²æ¨¡å¼
            if (settings.darkMode) {
                document.body.classList.add('dark-theme');
            }
            
            // åº”ç”¨å…¶ä»–è®¾ç½®...
        }

        // åˆ‡æ¢è®¾ç½®
        function toggleSetting(element) {
            element.classList.toggle('active');
            vibrateDevice();
            saveSettings();
        }

        // åˆ‡æ¢æ·±è‰²æ¨¡å¼
        function toggleDarkMode(element) {
            element.classList.toggle('active');
            document.body.classList.toggle('dark-theme');
            vibrateDevice();
            saveSettings();
            showNotification('æ·±è‰²æ¨¡å¼å·²' + (element.classList.contains('active') ? 'å¼€å¯' : 'å…³é—­'), 'success');
        }

        // åˆ‡æ¢æ¨¡å¼
        function switchMode(mode) {
            const buttons = document.querySelectorAll('.mode-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            vibrateDevice();
            saveSettings();
            
            if (mode === 'parent') {
                showNotification('å³å°†åˆ‡æ¢åˆ°å®¶é•¿æ¨¡å¼...', 'info');
                setTimeout(() => {
                    navigateToPage('parent-panel');
                }, 1500);
            } else {
                showNotification('å·²åˆ‡æ¢åˆ°å„¿ç«¥æ¨¡å¼', 'success');
            }
        }

        // æ›´æ–°å­¦ä¹ æ—¶é•¿
        function updateStudyTime(minutes) {
            showNotification(`æ¯æ—¥å­¦ä¹ æ—¶é•¿å·²è®¾ç½®ä¸º${minutes}åˆ†é’Ÿ`, 'success');
            saveSettings();
        }

        // ä¿å­˜è®¾ç½®
        function saveSettings() {
            const settings = {
                darkMode: document.body.classList.contains('dark-theme'),
                studyTime: document.querySelector('.select-input').value,
                timestamp: Date.now()
            };
            
            localStorage.setItem('mengya_settings', JSON.stringify(settings));
        }

        // é‡ç½®è®¾ç½®
        function resetSettings() {
            if (confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰è®¾ç½®å—ï¼Ÿ')) {
                localStorage.removeItem('mengya_settings');
                location.reload();
            }
        }

        // å¯¼å‡ºè®¾ç½®
        function exportSettings() {
            const settings = localStorage.getItem('mengya_settings') || '{}';
            const blob = new Blob([settings], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'mengya_settings.json';
            a.click();
            URL.revokeObjectURL(url);
            showNotification('è®¾ç½®å·²å¯¼å‡º', 'success');
        }

        // æ›´æ¢å¤´åƒ
        function changeAvatar() {
            const avatars = ['ğŸŒŸ', 'ğŸ¨', 'ğŸ“š', 'ğŸš€', 'ğŸ¦„', 'ğŸŒˆ', 'â­', 'ğŸ¯', 'ğŸ†', 'ğŸ’'];
            const current = document.querySelector('.profile-avatar').textContent;
            const currentIndex = avatars.indexOf(current);
            const nextIndex = (currentIndex + 1) % avatars.length;
            
            document.querySelector('.profile-avatar').textContent = avatars[nextIndex];
            vibrateDevice();
            showNotification('å¤´åƒå·²æ›´æ¢', 'success');
        }

        // ç¼–è¾‘ä¸ªäººèµ„æ–™
        function editProfile() {
            showNotification('ä¸ªäººèµ„æ–™ç¼–è¾‘åŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }

        // æ˜¾ç¤ºåº”ç”¨ä¿¡æ¯
        function showAppInfo() {
            const info = `
ğŸŒŸ èŒèŠ½AI - å„¿ç«¥è¡¨è¾¾èƒ½åŠ›è®­ç»ƒ

ğŸ“± ç‰ˆæœ¬ï¼šv1.0.0
ğŸ“… å‘å¸ƒæ—¥æœŸï¼š2024å¹´3æœˆ
ğŸ‘¥ å¼€å‘å›¢é˜Ÿï¼šèŒèŠ½AIå›¢é˜Ÿ
ğŸ¯ ä¸“æ³¨äºï¼šå„¿ç«¥è¯­è¨€è¡¨è¾¾èƒ½åŠ›æå‡

âœ¨ ä¸»è¦åŠŸèƒ½ï¼š
â€¢ AIæ™ºèƒ½å¯¹è¯ç»ƒä¹ 
â€¢ ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„
â€¢ åˆ›æ„è¡¨è¾¾è®­ç»ƒ
â€¢ å­¦ä¹ æˆæœè¯„ä¼°
â€¢ å®¶é•¿ç›‘æ§é¢æ¿

ğŸ’¡ è®¾è®¡ç†å¿µï¼š
è®©æ¯ä¸ªå­©å­éƒ½èƒ½è‡ªä¿¡è¡¨è¾¾ï¼Œå¿«ä¹å­¦ä¹ ï¼
            `;
            showNotification(info, 'info');
        }

        // æ˜¾ç¤ºå¸®åŠ©
        function showHelp() {
            const help = `
â“ èŒèŠ½AIä½¿ç”¨æŒ‡å—

ğŸ¯ å¿«é€Ÿå¼€å§‹ï¼š
1. å®Œæˆä¸ªäººèµ„æ–™è®¾ç½®
2. é€‰æ‹©é€‚åˆçš„å­¦ä¹ è·¯å¾„
3. å¼€å§‹ç¬¬ä¸€ä¸ªè¡¨è¾¾ä»»åŠ¡
4. ä¸AIåŠ©æ•™äº’åŠ¨ç»ƒä¹ 

ğŸ“š ä¸»è¦åŠŸèƒ½ï¼š
â€¢ å­¦ä¹ è·¯å¾„ï¼šé€‰æ‹©å’Œå®Œæˆå­¦ä¹ ä»»åŠ¡
â€¢ AIåŠ©æ•™ï¼šæ™ºèƒ½å¯¹è¯å’ŒæŒ‡å¯¼
â€¢ æ•…äº‹å¢™ï¼šåˆ†äº«å’Œæµè§ˆåˆ›ä½œ
â€¢ å‹‹ç« ä¸­å¿ƒï¼šæŸ¥çœ‹å­¦ä¹ æˆå°±
â€¢ èƒ½åŠ›è¯„ä¼°ï¼šäº†è§£å­¦ä¹ è¿›åº¦

ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å®¶é•¿åŠŸèƒ½ï¼š
â€¢ åˆ‡æ¢åˆ°å®¶é•¿æ¨¡å¼æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š
â€¢ è®¾ç½®å­¦ä¹ æ—¶é—´å’Œå†…å®¹æ§åˆ¶
â€¢ æŸ¥çœ‹å­©å­çš„å­¦ä¹ è¿›åº¦å’Œæˆæœ

ğŸ’¡ å­¦ä¹ å»ºè®®ï¼š
â€¢ æ¯å¤©åšæŒ15-30åˆ†é’Ÿç»ƒä¹ 
â€¢ ç§¯æä¸AIåŠ©æ•™äº’åŠ¨
â€¢ å‹‡äºè¡¨è¾¾è‡ªå·±çš„æƒ³æ³•
â€¢ å®šæœŸæŸ¥çœ‹å­¦ä¹ æŠ¥å‘Š
            `;
            showNotification(help, 'info');
        }

        // è”ç³»å®¢æœ
        function contactSupport() {
            const contact = `
ğŸ“ èŒèŠ½AIå®¢æœä¸­å¿ƒ

ğŸ• æœåŠ¡æ—¶é—´ï¼š
å‘¨ä¸€è‡³å‘¨äº” 9:00-18:00
å‘¨æœ«åŠèŠ‚å‡æ—¥ 10:00-16:00

ğŸ“± è”ç³»æ–¹å¼ï¼š
â€¢ å®¢æœçƒ­çº¿ï¼š400-123-4567
â€¢ å®¢æœé‚®ç®±ï¼šsupport@mengyaai.com
â€¢ å¾®ä¿¡å®¢æœï¼šmengyaai_service
â€¢ QQç¾¤ï¼š123456789

ğŸ’¬ å¸¸è§é—®é¢˜ï¼š
â€¢ å¦‚ä½•é‡ç½®å­¦ä¹ è¿›åº¦ï¼Ÿ
â€¢ å¦‚ä½•åˆ‡æ¢å®¶é•¿æ¨¡å¼ï¼Ÿ
â€¢ å¦‚ä½•å¯¼å‡ºå­¦ä¹ æŠ¥å‘Šï¼Ÿ
â€¢ å¦‚ä½•è®¾ç½®å­¦ä¹ æé†’ï¼Ÿ

ğŸ”§ æŠ€æœ¯æ”¯æŒï¼š
â€¢ ç³»ç»Ÿè¦æ±‚ï¼šiOS 12+ / Android 8+
â€¢ ç½‘ç»œè¦æ±‚ï¼šå»ºè®®WiFiç¯å¢ƒ
â€¢ å­˜å‚¨è¦æ±‚ï¼šè‡³å°‘100MBå¯ç”¨ç©ºé—´
            `;
            showNotification(contact, 'info');
        }

        // è®¾ç½®åŠ¨ç”»
        function setupAnimations() {
            const items = document.querySelectorAll('.setting-item, .profile-section');
            items.forEach((item, index) => {
                item.style.opacity = '0';
                item.style.transform = 'translateY(20px)';
                item.style.transition = 'all 0.6s ease';
                
                setTimeout(() => {
                    item.style.opacity = '1';
                    item.style.transform = 'translateY(0)';
                }, index * 100);
            });
        }

        // å¯¼èˆªå‡½æ•°
        function navigateBack() {
            parent.postMessage({ type: 'navigate', page: 'profile' }, '*');
        }

        function navigateToPage(page) {
            parent.postMessage({ type: 'navigate', page: page }, '*');
        }

        // éœ‡åŠ¨åé¦ˆ
        function vibrateDevice(pattern = [50]) {
            if (navigator.vibrate) {
                navigator.vibrate(pattern);
            }
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type = 'info') {
            parent.postMessage({
                type: 'showNotification',
                message: message,
                notificationType: type
            }, '*');
        }
    </script>
</body>
</html> 